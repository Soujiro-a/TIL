## HTTPS : HTTP + Secure

**HTTP 프로토콜 내용을 SSL 혹은 TLS라는 알고리즘을 이용해 내용을 암호화하여 데이터를 전송하는 방법**

- SSL : 보안 소켓 레이어 : 웹사이트와 브라우저, 서버와 서버 사이에 전송된 데이터를 암호화하여 인터넷 연결 보안을 유지하는 기술
- TLS : 전송 계층 보안 : SSL과 같은 의미이나, SSL보다 발전된 기술

### HTTP와의 차이점

- HTTP

> 중간에 누군가가 Request를 들여다본다면, 해당 내용을 그대로 볼 수 있다.
> 개인정보들이 쉽게 유출이 된다.

- HTTPS

> Request의 내용을 한번 암호화시키기때문에, 해당 내용을 그대로 볼 수 없다.
> 내용이 유출되더라도 정확한 Key를 가지고 있지 않다면 어떤 내용인지 알 수 없다.

### HTTPS의 특징

- 인증서(Certificate)

  - 데이터를 제공한 서버가 데이터를 보내준 서버인지 인증/확인하는 용도
  - 해당 내용에, 서버에 도메인 정보가 있어서 데이터 제공자의 인증을 용이하게 함.
    => 도메인에 종속된다고 볼 수 있음
    > Request를 받을 경우, 서버는 인증서 + Response를 전송함.
    > Response를 받은 클라이언트는 인증서도메인/Response도메인을 비교함
    > 두 도메인이 같다면, 데이터를 제공해준 서버가 맞다는 것을 인지.
    > 혹여나 해커가 Request를 탈취해서 정보를 빼내려고 하는 경우
    > => 인증서도메인과, Response도메인이 같지 않아서 데이터를 제공해준 서버라는 걸 확신하지 못하게 되고, 클라이언트에서 서버 제공자가 아닌 다른 정보 제공자인 것을 알게됨.

- CA(Certificate Authority)

  - 공인 인증서를 발급해주는 기관이며, 각 브라우저는 신뢰하는 CA의 정보를 가지고 있음.
  - 이러한 이유로, 각 브라우저는 인증서에서도 차이가 나게 됨.
  - 한번 정보를 가지면 계속 유지되는 것이 아니고, 자격을 박탈당할 수도 있음.

- 비대칭 키 암호화 : 전혀 다른 키 한쌍으로 암호화 및 복호화가 가능

  - 암호화(Encrypt) : 사용자가 입력한 데이터를 알아볼 수 없는 데이터로 바꾸어, 해당 방식에 대한 정보를 가진 사람 외에는 이해할 수 없도록 알고리즘을 이용해 정보를 관리하는 과정
  - 복호화(Decrypt) : 함호화된 데이터를 정상적인 데이터로 변경하는 과정
  - 어느 한 키(Key)로 함호화를 했다면, 복호화할 때는 다른 키가 필요함
  - ex) 'A' Key로 암호화를 진행했다면, 'A' Key와 한 쌍인 'B' Key로 복호화가 가능
    > 보통 하나의 키는 클라이언트에 공개해서 데이터를 안전하게 전송할 수 있게 하고, 나머지 하나는 숨겨둠.
    > 하지만, 모든 통신에 대해 위와 같은 방식을 사용하는 건 아니다.
    > 여러 클라이언트를 상대로 매번 키를 사용하기엔 연산이 복잡한 알고리즘으로 이루어져있기 때문에, 통신의 초기단계에서만 비밀 키를 만들어내는데 사용함.

### HTTPS의 통신과정

1. Hand Shake

   - 클라이언트 -> 서버 : Hello
   - 서버 -> 클라이언트 : Hello, 공개 키, 인증서 정보 전달
   - 클라이언트에서 서버 인증서 검증

2. 비밀 키 생성

   - 클라이언트 <-> 서버 : 키 제작용 랜덤 스트링 전송
   - 클라이언트와 서버 각각 세션 키를 생성함

3. 상호 키 검증

   - 클라이언트 <-> 서버 : 세션 키로 암호화 된 메시지 전달

**위 과정을들 다 거치면 HTTPS 연결이 성립함**
