## REST API

**웹에서 사용되는 데이터나 자원을 HTTP URI로 표현하고, HTTP 프로토콜을 통해 요청과 응답을 정의하는 방식**

### REST란?

웹에 존재하는 모든 자원(이미지, 동영상, 데이터베이스 자원 등)에 고유한 URI*를 부여하고, HTTP 메소드를 통해 해당 자원에 대한 CRUD를 적용하는 것
*URI : 인터넷상의 자원을 나타내는 유일한 주소

### REST 성숙도 모델

#### 0단계 - HTTP 사용

단순히 HTTP 프로토콜을 사용하기만 해도 됨. 이 경우에는 아직 해당 API를 REST API라고 할 수는 없고, REST API의 토대를 다지기 위한 기본 단계

#### 1단계 - 개별 리소스와의 통신 준수

0단계에 더하여, 개별 리소스와의 통신을 준수해야함
더 자세히 설명하자면 2가지가 추가됨

1. 모든 자원은 개별 리소스에 맞는 엔드포인트를 사용해야함
   엔드포인트 작성 시에는 동사, HTTP 메소드, 행위에 대한 단어 사용은 지양하고, **리소스에 집중하여 명사 형태의 단어로 작성**하는게 바람직함

2. 요청하고 받은 자원에 대한 정보를 응답으로 전달해야함
   요청에 따른 응답으로 리소스를 전달할 때도, 사용한 리소스에 대한 정보와 함께 리소스 사용에 대한 성공/실패 여부를 반환해야함.

#### 2단계 - HTTP 메소드 원칙 준수

CRUD에 맞게 적절한 HTTP 메소드를 사용하는 것에 중점을 둠.
응답 코드도 명확하게 작성해야함.

##### HTTP 메소드를 사용할 때의 규칙

- GET 메소드는 서버의 데이터를 변화시키지 않는 요청에 사용해야함
- POST는 요청마다 새로운 리소스를 생성
- PUT은 요청마다 같은 리소스를 반환 - 멱등성*을 가짐
  *멱등성 : 요청을 여러 번 적용하더라도 결과가 달라지지 않음
- PUT과 PATCH도 구분하여 사용해야함
  - PUT : 대상 리소스를 모두 교체
  - PATCH : 대상 리소스를 일부 수정

**2단계까지만 적용해도 대체적으로 잘 작성된 API라고 여겨짐**

#### 3단계 - HATEOAS 원칙 준수

HATEOAS(Hypetext As The Engine Of Application State)

- 하이퍼미디어를 애플리케이션의 상태를 관리하기위한 매커니즘으로 사용한다는 것
- 클라이언트가 전적으로 서버와 동적인 상호작용이 가능하도록 하는 것
- 클라이언트가 서버로부터 어떠한 요청을 할 때, **요청에 필요한 URI를 응답에 포함시켜 반환하는 것으로 가능하게 함**

응답내에 새로운 URI를 넣어, 새로운 기능에 접근할 수 있도록 하는 것이 3단계의 중요 포인트
